---
const navLinks = [
    { href: "/", text: "ホーム" },
    { href: "/schedule", text: "スケジュール" },
    { href: "/results", text: "結果" },
 
];
---
<header class="bg-white text-gray-900 shadow-lg border-b border-gray-200">
    <nav class="container mx-auto px-6 py-3 flex justify-between items-center relative">
        <div class="logo">
            <a href="/">
                <img src="/images/rsop_logo.jpg" alt="RSOP - Ryukyu Series of Poker" class="h-12 w-auto" />
            </a>
        </div>
        
        <!-- デスクトップメニュー -->
        <ul class="desktop-menu flex space-x-6">
            {navLinks.map(link => (
                <li><a href={link.href} class="hover:text-yellow-600 transition-colors font-medium">{link.text}</a></li>
            ))}
        </ul>
        
        <!-- ハンバーガーボタン -->
        <button 
            id="mobile-menu-button" 
            class="mobile-menu-button md:hidden flex flex-col justify-center items-center w-8 h-8 space-y-1"
            aria-label="メニューを開く"
            aria-expanded="false"
            aria-controls="mobile-menu"
        >
            <span class="hamburger-line w-6 h-0.5 bg-gray-900 transition-all duration-300"></span>
            <span class="hamburger-line w-6 h-0.5 bg-gray-900 transition-all duration-300"></span>
            <span class="hamburger-line w-6 h-0.5 bg-gray-900 transition-all duration-300"></span>
        </button>
        
        <!-- モバイルメニュー -->
        <div id="mobile-menu" class="mobile-menu hidden absolute top-full left-0 right-0 bg-white shadow-lg border-t border-gray-200 z-50">
            <ul class="py-2">
                {navLinks.map(link => (
                    <li>
                        <a href={link.href} class="mobile-menu-link block px-6 py-3 text-gray-900 hover:bg-yellow-50 hover:text-yellow-600 transition-colors font-medium border-b border-gray-100 last:border-b-0">
                            {link.text}
                        </a>
                    </li>
                ))}
            </ul>
        </div>
    </nav>
</header>

<style>
    .logo img {
        transition: transform 0.2s ease;
    }
    
    .logo img:hover {
        transform: scale(1.05);
    }
    
    /* ハンバーガーメニューのアニメーション */
    .mobile-menu-button.active .hamburger-line:nth-child(1) {
        transform: rotate(45deg) translate(5px, 5px);
    }
    
    .mobile-menu-button.active .hamburger-line:nth-child(2) {
        opacity: 0;
    }
    
    .mobile-menu-button.active .hamburger-line:nth-child(3) {
        transform: rotate(-45deg) translate(7px, -6px);
    }
    
    /* モバイルメニューの表示/非表示 */
    .mobile-menu.active {
        display: block;
    }
    
    /* レスポンシブ対応 */
    @media (min-width: 768px) {
        .desktop-menu {
            display: flex;
        }
        
        .mobile-menu-button,
        .mobile-menu {
            display: none;
        }
    }
    
    @media (max-width: 767px) {
        .desktop-menu {
            display: none;
        }
        
        .logo img {
            height: 2.5rem;
        }
    }
    
    @media (max-width: 480px) {
        .logo img {
            height: 2rem;
        }
        
        nav {
            padding: 0.75rem 1rem;
        }
    }
</style>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        const mobileMenuLinks = document.querySelectorAll('.mobile-menu-link');
        
        if (mobileMenuButton && mobileMenu) {
            // ハンバーガーボタンのクリックイベント
            mobileMenuButton.addEventListener('click', function() {
                mobileMenuButton.classList.toggle('active');
                mobileMenu.classList.toggle('active');
                
                // アクセシビリティのためのaria属性
                const isExpanded = mobileMenu.classList.contains('active');
                mobileMenuButton.setAttribute('aria-expanded', isExpanded.toString());
            });
            
            // メニューリンクをクリックした時にメニューを閉じる
            mobileMenuLinks.forEach(link => {
                link.addEventListener('click', function() {
                    mobileMenuButton.classList.remove('active');
                    mobileMenu.classList.remove('active');
                    mobileMenuButton.setAttribute('aria-expanded', 'false');
                });
            });
            
            // 画面外をクリックした時にメニューを閉じる
            document.addEventListener('click', function(event) {
                const target = event.target as Node;
                const isClickInsideNav = mobileMenuButton.contains(target) || mobileMenu.contains(target);
                
                if (!isClickInsideNav && mobileMenu.classList.contains('active')) {
                    mobileMenuButton.classList.remove('active');
                    mobileMenu.classList.remove('active');
                    mobileMenuButton.setAttribute('aria-expanded', 'false');
                }
            });
            
            // ウィンドウリサイズ時の処理
            window.addEventListener('resize', function() {
                if (window.innerWidth >= 768) {
                    mobileMenuButton.classList.remove('active');
                    mobileMenu.classList.remove('active');
                    mobileMenuButton.setAttribute('aria-expanded', 'false');
                }
            });
        }
    });
</script>